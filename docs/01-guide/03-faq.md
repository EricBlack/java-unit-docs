---
order: 3
group:
  title: 介绍
  order: 1
---

# 技术选型

我们经常会遇到技术选型的难题，希望这一章节通过我们的调研，总结一些工具的对比，从而告诉你为什么去选择它。

## Mock

现在市场上的 Mock 框架有，`Mockito`、`EasyMock`、`Jmock`、`PowerMock`。

最终，我们推荐的是 [Mockito - 官方网站](https://site.mockito.org/)，因为使用起来简单、学习成本很低、功能强大并且具有非常**简洁的 API**。测试代码的可读性很高，所以它十分受欢迎，很多开源软件也选择了 `Mockito` ，如：()。

接下来，分别介绍一下，这几个 Mock 的区别。

### Mockito

> `Mockito` 是一个针对 Java 的 Mock 框架。它与 EasyMock 和 JMock 很相似，是一套通过简单的方法对于指定的接口或类生成 Mock 对象的类库，避免了手工编写 Mock 对象。但 Mockito 是通过在执行后校验哪些行为已经被调用，它消除了对期望行为的需要。使用 Mockito 在准备阶段只需花费很少的时间，可以使用**简洁的 API**编写出漂亮的测试，可以对具体的类创建 Mock 对象，并且有 “监视” 非 Mock 对象的能力。

### EasyMock

> EasyMock 是早期比较流行的 Mock 框架。它也是通过 expect-run-verify （期望-运行-验证）的方式完成测试过程，它可以验证方法的调用种类、次数、顺序，可以令 Mock 对象返回指定的值或抛出指定异常。

### Jmock

> Jmock 是一个利用 Mock 对象来测试 Java 代码的轻量级测试工具，它从 jUnit 发展而来，是 jUnit 的一个增强库。通过 expect-run-verify （期望-运行-验证）的方式来完成测试过程。这种方式需要在运行前记录严格的期望，这常常会导致您被迫查看无关的交互。

### 技术对比

|                                      | `JMock` | `EasyMock` | `Mockito` | `PowerMock - EasyMock` | `PowerMock-Mockito` |
| :----------------------------------: | :-----: | :--------: | :-------: | :-------------------: | :------------------: |
|              调用数限制              |    √    |     √      |     √     |           √           |          √           |
|          记录严格的预期结果          |    √    |     √      |           |           √           |                      |
|               显式验证               |         |            |     √     |                       |          √           |
|              部分 mock               |    √    |            |     √     |           √           |          √           |
|              级联 mock               |         |            |     √     |                       |          √           |
|             多接口 mock              |         |            |     √     |                       |          √           |
|            注释类型 mock             |         |     √      |     √     |                       |          √           |
|           mock 的自动注入            |         |            |     √     |                       |          √           |
| final、static 和 private 方法的 mock |         |            |           |           √           |          √           |
